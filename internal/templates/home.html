<html>
  <head>
    <title>forum</title>
    <link rel="stylesheet" href="assets/css/home.css">
  </head>
  <body>
    <div class="top-bar">
      <div class="left-buttons">
      </div>

      <div class="right-buttons">

        <form>
          <input type="checkbox" id="login-popup" hidden>
          <label for="login-popup" class="btn">Login</label>
          <div class="popup">
            <div class="popup-content">
              <label for="login-popup" class="close">&times;</label>
              <h2>Connexion</h2>
              <form action="/login" method="POST">
                <input type="text" name="username" placeholder="Nom d'utilisateur" required>
                <input type="password" name="password" placeholder="Mot de passe" required>
                <button type="submit">Se connecter</button>
              </form>
            </div>
          </div>
        </form>

        <form>
          <button type="submit" class="btn">Logout</button>
        </form>

        <form>
          <a href="/register" class="btn">Register</a>


              </form>
            </div>
          </div>
        </form>

      </div>
    </div>
    <div class="mainpart">
        <button id="new-subject-btn" class="btn">New Subject</button>
    </div>

    <div id="subject-form" style="display: none;" class="form-container">
    <form method="POST" action="/create-topic">
        <input type="text" name="title" placeholder="Objet du sujet" required>
        <textarea name="content" placeholder="Contenu du sujet" required></textarea>
        <button type="submit">Publier</button>
    </form>
    </div>

    <h2>Derniers sujets</h2>
    {{range .}}
    <div class="topic-banner">
        <a href="/topic?id={{.ID}}">{{.Title}}</a>
    </div>
    {{else}}
    <p>Aucun sujet pour le moment.</p>
    {{end}}

  </body>
  <script>
    document.getElementById("new-subject-btn").addEventListener("click", () => {
        document.getElementById("subject-form").style.display = "block";
    });
    </script>
</html>

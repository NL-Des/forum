<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<title>Sujets</title>
		<link rel="stylesheet" href="assets/css/topic.css">
	</head>

	<body>
		<h2>{{.Topic.Title}}</h2>
		<p>{{.Topic.Content}}</p>
		<div>
			<p>{{.Topic.Likes}}:ğŸ‘ | {{.Topic.Dislikes}}:ğŸ‘</p>
			<a href="/react?target_type=topics&target_id={{.Topic.ID}}&value=1">ğŸ‘</a>
			<a href="/react?target_type=topics&target_id={{.Topic.ID}}&value=-1">ğŸ‘</a>
			<a href="/remove-reaction?target_type=topics&target_id={{.Topic.ID}}">âŒ</a>
		</div>

		<h3>Messages</h3>
		{{range .Posts}}
			<div class="post">
				<p>{{.Content}}</p>
				<small>{{.CreatedAt}}</small>
				<div>
					<p>{{.Likes}}:ğŸ‘ | {{.Dislikes}}:ğŸ‘</p>
					<a href="/react?target_type=posts&target_id={{.ID}}&value=1">ğŸ‘</a>
					<a href="/react?target_type=posts&target_id={{.ID}}&value=-1">ğŸ‘</a>
					<a href="/remove-reaction?target_type=posts&target_id={{.ID}}">âŒ</a>
				</div>
			</div>
		{{else}}
			<p>Pas de message pour ce sujet.</p>
		{{end}}

		<h3>Ajouter un message</h3>
		<form method="POST" action="/add-post">
			<input type="hidden" name="topic_id" value="{{.Topic.ID}}">
			<textarea name="content" required></textarea>
			<button type="submit">Send</button>
		</form>

		<a href="/">Retour Ã  l'accueil</a>
	</body>

</html>